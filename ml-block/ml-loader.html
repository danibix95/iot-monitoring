<script type="text/javascript">
    RED.nodes.registerType("ml-loader", {
        category: "function",
        color: "#C0DEED",
        defaults: {
            name: { value: "ML Loader" },
            mtype : { value: "" },
            modelurl : { value: "" },
            weightsurl : { value: "" },
            loaderurl : { value: "" }
        },
        inputs:1,
        outputs:1,
        icon: "ml_icon_white.svg",
        label: function() {
            return this.name || "ml-loader";
        },
        oneditprepare: function() {
            $("#node-input-mtype").change(function(e) {
                $(".node-row-additional-1").toggle(this.value === "tensorflow");
                $(".node-row-additional-2").toggle(this.value === "sklearn");
            });
        },
    });
</script>

<script type="text/x-red" data-template-name="ml-loader">
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i>Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-mtype"><i class="icon-tag"></i>Model Type</label>
        <select id="node-input-mtype">
            <option value="tensorflow">Tensorflow</option>
            <option value="sklearn">Python Scikit-Learn</option>
            <!--<option value="pytorch">Pytorch</option>-->
            <!--<option value="caffe">Caffe</option>-->
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-modelurl"><i class="icon-globe"></i>Model URL</label>
        <input type="text" id="node-input-modelurl" placeholder="http://">
    </div>
    <div class="form-row node-row-additional-1">
        <label for="node-input-weightsurl"><i class="icon-globe"></i>Weights URL</label>
        <input type="text" id="node-input-weightsurl" placeholder="http://">
    </div>
    <div class="form-row node-row-additional-2">
        <label for="node-input-loaderurl"><i class="icon-globe"></i>Loader URL</label>
        <input type="text" id="node-input-loaderurl" placeholder="http://">
    </div>
</script>

<script type="text/x-red" data-help-name="ml-loader">
    <p>A simple node that loads a machine learning model and applies it on its input data.</p>
</script>